<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>Document</title>
    </head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stats.js/r16/Stats.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.6/dat.gui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.14.2/matter.js"></script>
    <body></body>
    <script>
     var gui = new dat.GUI();
     var stats = new Stats();
     document.body.appendChild( stats.domElement );

     // module aliases
     var Engine = Matter.Engine,
	 Render = Matter.Render,
	 World = Matter.World,
	 Bodies = Matter.Bodies;

     // create an engine
     var engine = Engine.create();

     // create a renderer
     var render = Render.create({
	 element: document.body,
	 engine: engine
     });

     const STAGE_WIDTH = 810;
     const STAGE_HEIGHT = 610;
     const WALL_THICKNESS = 20;
     
     // create two boxes and a ground
     var ball = Bodies.circle(400, 200, 15);
     var wallLeft = Bodies.rectangle(0, STAGE_HEIGHT / 2, WALL_THICKNESS, STAGE_HEIGHT, { isStatic: true });
     var wallRight = Bodies.rectangle(STAGE_WIDTH - WALL_THICKNESS / 2, STAGE_HEIGHT / 2, WALL_THICKNESS, STAGE_HEIGHT, { isStatic: true });
     var wallTop = Bodies.rectangle(STAGE_WIDTH / 2, 0, STAGE_WIDTH, WALL_THICKNESS, { isStatic: true });
     var ground = Bodies.rectangle(400, 610, STAGE_WIDTH, WALL_THICKNESS, { isStatic: true });

     const BASKET_BASE_X = STAGE_WIDTH - 100;
     const BASKET_BASE_Y = STAGE_HEIGHT - 300;
     const BASKET_THICKNESS = 10;
     const BASKET_WIDTH = 50;
     const BASKET_HEIGHT = 50;

     var basketLeft = Bodies.rectangle(BASKET_BASE_X, BASKET_BASE_Y, BASKET_THICKNESS, BASKET_HEIGHT,  { isStatic: true });
     var basketBottom = Bodies.rectangle(BASKET_BASE_X + BASKET_WIDTH / 2, BASKET_BASE_Y + BASKET_HEIGHT / 2, BASKET_WIDTH, BASKET_THICKNESS, { isStatic: true });
     var basketRight = Bodies.rectangle(BASKET_BASE_X + BASKET_WIDTH, BASKET_BASE_Y, BASKET_THICKNESS, BASKET_HEIGHT,  { isStatic: true });
     
     // add all of the bodies to the world
     World.add(engine.world, [ball, wallLeft, wallRight, wallTop, ground, basketLeft, basketBottom, basketRight]);

     // run the engine
     Engine.run(engine);

     // run the renderer
     Render.run(render);

     function animate() {

	 stats.begin();

	 // monitored code goes here

	 stats.end();

	 requestAnimationFrame( animate );

     }

     requestAnimationFrame( animate );
    </script>
</html>
